{% extends "base.html" %}

{% block content %}
<div class="container mx-auto p-4 flex flex-col md:flex-row h-[calc(100vh-160px)] gap-4">
    <div class="w-full md:w-1/4 bg-gray-100 dark:bg-gray-700 rounded-xl shadow-lg p-4 flex flex-col overflow-y-auto">
        <h2 class="text-xl font-bold text-gray-800 dark:text-gray-200 mb-4 text-center">Available Nodes</h2>
        <div id="available-nodes-pane" class="flex flex-col gap-3">
            <p id="no-available-nodes-message" class="text-center text-gray-500 text-sm hidden">
                No nodes configured yet. Add nodes on the Dashboard page.
            </p>
            </div>
    </div>

    <div class="w-full md:w-3/4 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-lg p-4 relative overflow-hidden" id="scada-main-pane">
        <h2 class="text-xl font-bold text-gray-800 dark:text-gray-200 mb-4 text-center">SCADA Display</h2>
        <div id="scada-grid-background" class="absolute inset-0" style="pointer-events: none;"></div>
        <p id="no-scada-elements-message" class="text-center text-gray-500 mt-20 text-lg hidden">
            Drag and drop nodes from the left pane to build your SCADA display.
        </p>
        </div>

    <button id="saveScadaLayoutBtn"
            class="fixed bottom-8 right-8 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 flex items-center z-10">
        <i class="fas fa-save mr-2"></i> Save SCADA Layout
    </button>
</div>

<div id="messageBox" class="fixed bottom-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-xl z-20 hidden">
    <p id="messageText"></p>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/scada.js') }}"></script>
{% endblock %}
